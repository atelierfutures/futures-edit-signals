<!doctype html>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The Futures Edit — Signals</title>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

<style>
  :root{
    --bg:#ffffff; --fg:#141414; --muted:#6b7280;
    --card:#ffffff; --border:#e5e7eb; --pill:#f3f4f6; --accent:#111827;
    --shadow:0 8px 24px rgba(0,0,0,.06);
    --ctl-w:180px; --seg-w:160px;

    /* Category colors */
    --fashion-bg:#fff1f2; --fashion-bd:#fecdd3; --fashion-fg:#9f1239;
    --beauty-bg:#eef2ff;  --beauty-bd:#c7d2fe; --beauty-fg:#3730a3;
    --wellness-bg:#ecfeff;--wellness-bd:#a5f3fc;--wellness-fg:#155e75;

    /* Status colors */
    --emerg-bg:#ecfccb; --emerg-bd:#bef264; --emerg-fg:#3f6212;
    --bubbl-bg:#fef3c7; --bubbl-bd:#fcd34d; --bubbl-fg:#92400e;
    --main-bg:#f1f5f9;  --main-bd:#cbd5e1; --main-fg:#334155;
  }
  :root.dark{
    --bg:#0b0b0c; --fg:#f2f3f5; --muted:#a3a7ae;
    --card:#121317; --border:#2b2f36; --pill:#1b1f25; --accent:#e5e7eb;
    --shadow:0 10px 30px rgba(0,0,0,.35);

    --fashion-bg:#3b0b12; --fashion-bd:#701a29; --fashion-fg:#fecdd3;
    --beauty-bg:#1e1b4b;  --beauty-bd:#3730a3; --beauty-fg:#c7d2fe;
    --wellness-bg:#0b3a42;--wellness-bd:#0e7490;--wellness-fg:#a5f3fc;

    --emerg-bg:#1b2e0b; --emerg-bd:#3f6212; --emerg-fg:#bef264;
    --bubbl-bg:#3a2a0a; --bubbl-bd:#a16207; --bubbl-fg:#fcd34d;
    --main-bg:#0f172a;  --main-bd:#334155; --main-fg:#cbd5e1;
  }

  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--fg);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
  a{color:#2563eb;text-decoration:none} a:hover{text-decoration:underline}
  .wrap{max-width:1100px;margin:0 auto;padding:20px}

  /* Sticky toolbar */
  .bar{position:sticky;top:0;z-index:50;backdrop-filter:saturate(180%) blur(10px);
    background:color-mix(in oklab, var(--bg) 90%, transparent); border-bottom:1px solid var(--border)}
  .bar-inner{max-width:1100px;margin:0 auto;padding:12px 20px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .title{font-weight:700;font-size:18px}
  .spacer{flex:1}
  .seg{display:inline-flex;border:1px solid var(--border);border-radius:10px;overflow:hidden;box-shadow:var(--shadow)}
  .seg.fixed{width:var(--seg-w)} .seg.fixed button{flex:1 0 50%}
  .seg button{padding:8px 12px;border:0;background:var(--card);color:var(--fg);cursor:pointer}
  .seg button.active{background:var(--accent);color:var(--bg)}

  .btn{background:var(--card);color:var(--fg);border:1px solid var(--border);border-radius:10px;padding:10px 12px;cursor:pointer;box-shadow:var(--shadow)}
  .select,.input{padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:var(--card);color:var(--fg);box-shadow:var(--shadow)}
  .select.fixed{width:var(--ctl-w)}
  .search{flex:1 1 320px;display:flex;gap:10px}
  .search input{width:100%}

  /* Pills + text badges */
  .pill{ padding:4px 8px; font-size:11px; line-height:1; border:1px solid var(--border); border-radius:999px; background:var(--pill); }
  .tag, .status{ padding:4px 8px; font-size:11px; }
  .kchip{ padding:3px 6px; font-size:11px; border:1px solid var(--border); border-radius:999px; background:var(--pill); }
  .score-txt{ color: var(--muted); font-size: 12px; }
  .date{ color:var(--muted); white-space:nowrap; }
  /* make whole pill clickable but keep its color */
  .pill-link{ color:inherit; text-decoration:none; display:inline-block; }

  /* Drawer (dates only) */
  .drawer-back{position:fixed;inset:0;background:rgba(0,0,0,.35);display:none;z-index:80}
  .drawer{position:fixed;right:0;top:0;height:100%;width:360px;max-width:90vw;background:var(--bg);
    border-left:1px solid var(--border);box-shadow:var(--shadow);padding:18px;display:none;z-index:90}
  .drawer h3{margin:0 0 10px;font-size:16px}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .drawer .actions{display:flex;gap:10px;margin-top:14px}

  /* Pretty More menu */
  .menu{ position:relative; }
  .menu-panel{
    display:none; position:absolute; right:0; top:calc(100% + 8px);
    min-width:260px; background:var(--card); border:1px solid var(--border);
    border-radius:10px; padding:8px; box-shadow:var(--shadow); z-index:60;
  }
  .menu-panel.open{ display:block; }
  .menu-panel button, .menu-panel a{
    display:flex; align-items:center; gap:8px; width:100%;
    padding:10px; border:0; border-radius:8px; background:transparent; color:var(--fg);
    text-decoration:none; cursor:pointer;
  }
  .menu-panel button:hover, .menu-panel a:hover{ background:var(--pill); }

  /* Chips row under bar */
  .chips{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
  .chip{display:inline-flex;align-items:center;gap:6px} .chip button{all:unset;cursor:pointer;color:var(--muted)}

  /* Table */
  table{width:100%;border-collapse:collapse;margin-top:10px}
  th,td{padding:10px;border-bottom:1px solid var(--border);vertical-align:top;text-align:left}
  th{position:sticky;top:64px;background:var(--bg);z-index:1}
  th.sortable{cursor:pointer}
  th .arrow{opacity:.35;margin-left:6px}
  th.active .arrow{opacity:1}

  /* Cards — line1 date, line2 title, line3 meta */
  .cards{
    display:grid;
    gap:12px;
    margin-top:12px;
    grid-template-columns:repeat(auto-fill,minmax(560px,1fr));
  }
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:14px;
    box-shadow:var(--shadow);
    transition: box-shadow .18s ease, transform .18s ease, border-color .18s ease;
  }
  .card:hover{ transform: translateY(-1px); box-shadow: 0 10px 28px rgba(0,0,0,.08); border-color: color-mix(in oklab, var(--border) 60%, var(--fg) 40%); }

  .card--inline{ display:flex; flex-direction:column; gap:6px; padding:12px 14px; }
  .date-line{ display:flex; align-items:center; gap:8px; }
  .card-title{ margin:0; font-weight:600; }
  .card-title a{
    color:inherit; text-decoration:none;
    display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
  }
  .card-title a:hover{ text-decoration:underline; }
  .meta-line{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }

  /* Pager */
  .pager{display:flex;align-items:center;justify-content:space-between;margin:16px 0;gap:12px;flex-wrap:wrap}
  .pager-right{display:flex;align-items:center;gap:10px;flex-wrap:wrap}

  /* Tag color classes */
  .tag--fashion{background:var(--fashion-bg); border-color:var(--fashion-bd); color:var(--fashion-fg)}
  .tag--beauty{ background:var(--beauty-bg);  border-color:var(--beauty-bd);  color:var(--beauty-fg)}
  .tag--wellness{background:var(--wellness-bg);border-color:var(--wellness-bd);color:var(--wellness-fg)}
  .status--emerging{background:var(--emerg-bg);border-color:var(--emerg-bd);color:var(--emerg-fg)}
  .status--bubbling{background:var(--bubbl-bg);border-color:var(--bubbl-bd);color:var(--bubbl-fg)}
  .status--mainstream{background:var(--main-bg);border-color:var(--main-bd);color:var(--main-fg)}

  @media (max-width: 700px){ .cards{ grid-template-columns:1fr; } }
</style>

<div class="bar" id="bar">
  <div class="bar-inner">
    <div class="title">The Futures Edit — Signals</div>
    <div class="search"><input id="q" class="input" type="search" placeholder="Search title / keyword / category / status… (Esc to clear)" /></div>

    <div class="seg fixed">
      <button id="viewTable" class="active" type="button">Table</button>
      <button id="viewCards" type="button">Cards</button>
    </div>

    <select id="sortKey" class="select fixed">
      <option value="trend_score" selected>Sort: Trend score</option>
      <option value="published">Sort: Published</option>
      <option value="title">Sort: Title</option>
      <option value="category">Sort: Category</option>
      <option va
